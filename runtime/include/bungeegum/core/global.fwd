#pragma once

#include <bungeegum/core/animation.fwd>
#include <bungeegum/core/context.fwd>
#include <bungeegum/core/log.fwd>
#include <bungeegum/core/pipeline.fwd>
#include <bungeegum/core/widget.fwd>
#include <bungeegum/core/shader.fwd>
#include <bungeegum/core/font.fwd>
#include <bungeegum/core/texture.fwd>

namespace bungeegum {
namespace detail {

    struct global_manager_data {
        animations_manager_data animations = {};
        events_manager_data events = {};
        fonts_manager_data fonts = {};
        log_manager_data logs = {};
        pipeline_manager_data pipelines = {};
        textures_manager_data textures = {};
        widget_manager_data widgets = {};
    };

    void setup_global_if_required(); // This has to be called before doing anything else (inside embed(), launch(), hotswap::xxx() etc)

#if BUNGEEGUM_USE_HOTSWAP
    inline global_manager_data& global() // This has to be inline for reload (?)
    {
        return get_global_data<global_manager_data>();
    }
#else
    global_manager_data& global();
#endif

}
}